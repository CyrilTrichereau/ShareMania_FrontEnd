(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"36fd":function(t,e,n){"use strict";n("ed6e")},"6e73":function(t,e,n){"use strict";n.r(e);var o=n("7a23"),a={class:"mx-auto my-lg-4 newPost"};function i(t,e,n,i,s,r){var c=Object(o["A"])("NewContentText"),l=Object(o["A"])("AddAttached");return Object(o["t"])(),Object(o["f"])("div",a,[Object(o["j"])(c,{class:"newPostNewContentText",descendGifForSeasonningPost:s.gifForSeasonningPost,mediaToAttachToPost:s.mediaToAttach},null,8,["descendGifForSeasonningPost","mediaToAttachToPost"]),Object(o["j"])(l,{class:"newPostAddAttached",onAscendShareAGiphyPost:r.descendInfoShareAGiphy,onSendMediaToPostObject:r.descendSendMediaToPostObject},null,8,["onAscendShareAGiphyPost","onSendMediaToPostObject"])])}var s=n("1da1"),r=(n("96cf"),function(t){return Object(o["w"])("data-v-4d807be1"),t=t(),Object(o["u"])(),t}),c={class:"newContent"},l=r((function(){return Object(o["g"])("h1",{class:"text-primary newContentTitle"},"Nouvelle Publication",-1)})),d={class:"bg-info newContentText"},u={class:"newContentTextHeader"},p=["src","alt"],f={class:"h4 text-secondary newContentTextHeaderName"},h={class:"newContentTextMain"},P={class:"newContentTextMainBlock"},b={class:"text-danger newContentTextMainBlockInvalidText"};function y(t,e,n,a,i,s){var r=Object(o["A"])("TextBlock"),y=Object(o["A"])("ContentCardShared"),g=Object(o["A"])("Button");return Object(o["t"])(),Object(o["f"])("div",c,[l,Object(o["g"])("div",d,[Object(o["g"])("div",u,[Object(o["g"])("img",{src:t.$store.state.profile.myProfile.urlPicture,alt:"Photo de profil de "+t.$store.state.profile.myProfile.alias,class:"newContentTextHeaderPicture"},null,8,p),Object(o["g"])("p",f,Object(o["C"])(t.$store.state.profile.myProfile.alias),1)]),Object(o["g"])("div",h,[Object(o["g"])("div",P,[Object(o["j"])(r,{onInputValue:s.saveContentText},null,8,["onInputValue"]),Object(o["K"])(Object(o["g"])("p",b," Le texte de votre publication doit contenir au minimum 6 caractères. ",512),[[o["H"],i.displayInvalidText]])]),""!==i.postData.content.urlPicture?(Object(o["t"])(),Object(o["d"])(y,{key:0,giphyToDisplay:i.postData,onEraseGifToDisplay:s.eraseGifToDisplay},null,8,["giphyToDisplay","onEraseGifToDisplay"])):Object(o["e"])("",!0),Object(o["j"])(g,{text:"Valider",onClick:s.sendPost},null,8,["onClick"])])])])}n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("00b4"),n("b0c0"),n("d3b7"),n("159b");var g=n("ddf1"),j=n("ad4f"),O={class:"container card content"},m={class:"container card bg-dark contentCard"},T=["src","alt"],v=["src","alt"],x={class:"text-light contentCardText"};function D(t,e,n,a,i,s){var r=Object(o["A"])("Button");return Object(o["t"])(),Object(o["f"])("div",O,[Object(o["g"])("div",m,[s.isVideo?(Object(o["t"])(),Object(o["f"])("video",{key:1,src:n.giphyToDisplay.content.urlPicture,alt:n.giphyToDisplay.content.originalPosterProfile.text,class:"contentCardPicture",controls:"",preload:"metadata",loop:"",muted:""},null,8,v)):(Object(o["t"])(),Object(o["f"])("img",{key:0,src:n.giphyToDisplay.content.urlPicture,alt:n.giphyToDisplay.content.originalPosterProfile.text,class:"contentCardPicture"},null,8,T)),Object(o["g"])("p",x,Object(o["C"])(n.giphyToDisplay.content.originalPosterProfile.text),1)]),Object(o["j"])(r,{text:"Supprimer",onClick:s.sendEraseGifToDisplay,danger:!0},null,8,["onClick"])])}n("1276");var A={name:"ContentCardShared",components:{Button:j["a"]},props:{giphyToDisplay:{type:Object,required:!0}},computed:{isVideo:function(){var t=this.giphyToDisplay.content.urlPicture.split(".").pop(),e=["mp4","MP4","avi","AVI","mkv","MKV","webm","WEBM"],n=!1;return e.forEach((function(e){t==e&&(n=!0)})),n}},methods:{sendEraseGifToDisplay:function(){this.$emit("erase-gif-to-display")}}},w=(n("36fd"),n("6b0d")),C=n.n(w);const G=C()(A,[["render",D],["__scopeId","data-v-e7e97310"]]);var S=G,k={name:"NewContentText",components:{TextBlock:g["a"],Button:j["a"],ContentCardShared:S},props:{descendGifForSeasonningPost:{required:!0},mediaToAttachToPost:{required:!0}},data:function(){return{displayInvalidText:!1,postData:{posterProfile:{alias:"",urlPicture:"",service:"",_id:""},content:{text:"",urlPicture:"",originalPosterProfile:{alias:null,urlPicture:null,text:null}}}}},watch:{descendGifForSeasonningPost:function(t){this.updatePostData(t)},mediaToAttachToPost:function(t){this.eraseGifToDisplay(),t[0].target.files&&(this.postData.mediaFile=t[0].target.files[0],this.postData.content.urlPicture=t[1])}},methods:{saveContentText:function(t){this.postData.content.text=t},updatePostData:function(t){void 0!==t.posterProfile&&void 0!==t.content&&(this.postData.content.originalPosterProfile.alias=t.posterProfile.alias,this.postData.content.originalPosterProfile.urlPicture=t.posterProfile.urlPicture,this.postData.content.originalPosterProfile.text=t.content.text,this.postData.content.urlPicture=t.content.urlPicture,this.postData.mediaFile="")},eraseGifToDisplay:function(){var t={posterProfile:{alias:"",urlPicture:""},content:{text:"",urlPicture:""}};this.updatePostData(t)},sendPost:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,o,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.displayInvalidText=!1,n=new RegExp(t.$store.state.pattern.text),!n.test(t.postData.content.text)){e.next=24;break}if(o=new FormData,a=[["userAlias",t.$store.state.profile.myProfile.alias],["userUrlPicture",t.$store.state.profile.myProfile.urlPicture],["userService",t.$store.state.profile.myProfile.service],["contentText",t.postData.content.text],["contentUrlPicture",t.postData.content.urlPicture],["originalUserAlias",t.postData.content.originalPosterProfile.alias],["originalUserUrlPicture",t.postData.content.originalPosterProfile.urlPicture],["originalUserText",t.postData.content.originalPosterProfile.text]],t.postData.mediaFile)try{o.append("mediaFile",t.postData.mediaFile,t.postData.mediaFile.name)}catch(s){console.log(s)}return a.forEach((function(t){try{o.append(t[0],t[1])}catch(s){console.log(s)}})),e.prev=7,e.next=10,fetch(t.$store.state.apiUrl.entryPoint+"/feedPosts/new/",{method:"POST",body:o,headers:{authorization:localStorage.getItem("token")}});case 10:return i=e.sent,e.next=13,i.json();case 13:i=e.sent,console.log({responseBody:i}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),console.log(e.t0);case 20:t.$store.dispatch("openOrCloseMenuHeaderForce","none"),t.$router.push({name:"home"}),e.next=25;break;case 24:t.displayInvalidText=!0;case 25:case"end":return e.stop()}}),e,null,[[7,17]])})))()}},mounted:function(){this.$store.state.postsGiphy.gifDataSavedTemporary!=={empty:!0}&&void 0!==this.$store.state.postsGiphy.gifDataSavedTemporary&&this.updatePostData(this.$store.state.postsGiphy.gifDataSavedTemporary)}};n("f3b8");const I=C()(k,[["render",y],["__scopeId","data-v-4d807be1"]]);var F=I,$=function(t){return Object(o["w"])("data-v-07d98292"),t=t(),Object(o["u"])(),t},M={class:"addAttached"},B=$((function(){return Object(o["g"])("p",{class:"h4 addAttachedText"},"Ajoutez du contenu à votre publication !",-1)})),_={class:"addAttachedFilter"},E={class:"addAttachedDisplayGiphy"};function H(t,e,n,a,i,s){var r=Object(o["A"])("Button"),c=Object(o["A"])("InputFile"),l=Object(o["A"])("PostsList");return Object(o["t"])(),Object(o["f"])("div",M,[B,Object(o["g"])("div",_,[Object(o["j"])(r,{text:"Giphy",onClick:e[0]||(e[0]=function(t){return i.isGiphyDisplayerOpen=!i.isGiphyDisplayerOpen}),secondary:s.returnIsGiphyDisplayerOpen},null,8,["secondary"]),Object(o["j"])(c,{text:"Importer une image ou une vidéo",onAscendSendMediaToPostObject:s.sendMediaToPostObject},null,8,["onAscendSendMediaToPostObject"]),Object(o["K"])(Object(o["g"])("div",E,[Object(o["j"])(l,{title:"Posts Giphy !",postsGiphy:!0,smallTitle:!0,newPostSeasonning:!0,onAscendShareAGiphyPost:s.ascendInfoShareAGiphy},null,8,["onAscendShareAGiphyPost"])],512),[[o["H"],i.isGiphyDisplayerOpen]])])])}var N=n("7dde"),U=n("807b"),V={name:"AddAttached",components:{PostsList:U["a"],Button:j["a"],InputFile:N["a"]},data:function(){return{isGiphyDisplayerOpen:!1}},computed:{returnIsGiphyDisplayerOpen:function(){return!!this.isGiphyDisplayerOpen}},methods:{ascendInfoShareAGiphy:function(t){this.isGiphyDisplayerOpen=!1,this.$emit("ascend-share-a-giphy-post",t)},sendMediaToPostObject:function(t){this.$emit("send-media-to-post-object",t)}}};n("713c");const R=C()(V,[["render",H],["__scopeId","data-v-07d98292"]]);var q=R,K=n("8271"),L={name:"NewPost",components:{NewContentText:F,AddAttached:q},data:function(){return{gifForSeasonningPost:{isSeasonning:!1},mediaToAttach:""}},methods:{descendInfoShareAGiphy:function(t){this.gifForSeasonningPost=t},descendSendMediaToPostObject:function(t){this.mediaToAttach=t}},mounted:function(){this.$store.dispatch("openOrCloseMenuHeaderForce","newPost")},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K["a"]();case 2:if(n=e.sent,n){e.next=7;break}t.$router.push("login"),e.next=9;break;case 7:return e.next=9,t.$store.dispatch("fetchMyProfile");case 9:case"end":return e.stop()}}),e)})))()}};n("c0be");const z=C()(L,[["render",i],["__scopeId","data-v-f6e12180"]]);e["default"]=z},"713c":function(t,e,n){"use strict";n("d23b")},"927a":function(t,e,n){},c0be:function(t,e,n){"use strict";n("d12e")},d12e:function(t,e,n){},d23b:function(t,e,n){},ed6e:function(t,e,n){},f3b8:function(t,e,n){"use strict";n("927a")}}]);
//# sourceMappingURL=about.2402e388.js.map