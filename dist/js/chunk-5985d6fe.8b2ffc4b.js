(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5985d6fe"],{"0813":function(e,t,n){"use strict";n.r(t);var i=n("7a23"),a=n("3844"),s=n.n(a),r=function(e){return Object(i["w"])("data-v-4263d2de"),e=e(),Object(i["u"])(),e},o={class:"container card resetPassword"},c=r((function(){return Object(i["g"])("div",{class:"resetPasswordHeader"},[Object(i["g"])("div",{class:"resetPasswordHeaderShareMania bg-primary"},[Object(i["g"])("img",{src:s.a,alt:"ShareMania Logo",class:"resetPasswordHeaderShareManiaLogo"}),Object(i["g"])("p",{class:"h1 text-light resetPasswordHeaderShareManiaText"}," ShareMania ")]),Object(i["g"])("div",{class:"resetPasswordHeaderPresentation"},[Object(i["g"])("h1",{class:"h5 text-primary resetPasswordHeaderPresentationTitle"}," Vous avez oublié votre mot de passe ? "),Object(i["g"])("p",{class:"resetPasswordHeaderPresentationText"}," Vous êtes sur la bonne page ! ")])],-1)})),d={class:"bg-primary resetPasswordMain"},u={class:"resetPasswordMainInputPasswords"},p=r((function(){return Object(i["g"])("h2",{class:"h3 text-light resetPasswordMainInputPasswordsTitle"}," Réinitialisez votre mot de passe ",-1)})),l={class:"h5 resetPasswordMainInvalidText"},h={class:"resetPasswordMainInvalid"},f=r((function(){return Object(i["g"])("p",{class:"h4 resetPasswordMainInvalidText"}," Le mot de passe n'a pas pu être mis à jour. ",-1)})),w=r((function(){return Object(i["g"])("p",{class:"h5 resetPasswordMainInvalidText"}," Merci de recommencer la procédure de réinitialisation de mot de passe, ou de vous rapprocher de votre manager. ",-1)})),m=[f,w];function v(e,t,n,a,s,r){var f=Object(i["A"])("InputBlock"),w=Object(i["A"])("ConfirmationPopIn"),v=Object(i["A"])("Button");return Object(i["t"])(),Object(i["f"])("div",o,[c,Object(i["g"])("div",d,[Object(i["g"])("div",u,[p,Object(i["j"])(f,{inputName:"Nouveau mot de passe",inputPlaceHolder:"Ecrivez ici votre nouveau mot de passe",inputType:"password",titleLight:!0,onInputValue:r.saveNewPassword,textInvalid:"Le mot de passe doit contenir 8 caractères minimum, avec au moins: 1 majuscule, 1 minuscule, 1 chiffre et 1 caractere spécial ( + - = , ; . )",patternType:"password"},null,8,["onInputValue"]),Object(i["j"])(f,{inputName:"Confirmez votre mot de passe",inputPlaceHolder:"Confirmez votre mot de passe",inputType:"password",titleLight:!0,onInputValue:r.saveNewPasswordConfirm,textInvalid:"Le mot de passe doit contenir 8 caractères minimum, avec au moins: 1 majuscule, 1 minuscule, 1 chiffre et 1 caractere spécial ( + - = , ; . )",patternType:"password",onValidateInputWithEnter:r.sendNewPassword},null,8,["onInputValue","onValidateInputWithEnter"])]),s.confirmationPopInIsOpen?(Object(i["t"])(),Object(i["d"])(w,{key:0,redirectUrl:"/",confirmationType:"modifyPassword"})):Object(i["e"])("",!0),Object(i["K"])(Object(i["g"])("p",l," Les deux mots de passe ne sont pas identiques ",512),[[i["H"],s.invalidText]]),Object(i["K"])(Object(i["g"])("div",h,m,512),[[i["H"],s.invalidFromServer]]),Object(i["g"])("div",{class:"resetPasswordMainValidate",onClick:t[0]||(t[0]=function(){return r.sendNewPassword&&r.sendNewPassword.apply(r,arguments)})},[Object(i["j"])(v,{text:"Valider"})])])])}var P=n("1da1"),b=(n("96cf"),n("d3b7"),n("e9c4"),n("8271")),y=n("b3c9"),O=n("ad4f"),g=n("be02"),j={name:"ConnectionPage",components:{InputBlock:y["a"],Button:O["a"],ConfirmationPopIn:g["a"]},data:function(){return{confirmationPopInIsOpen:!1,invalidText:!1,invalidFromServer:!1,newPassword:"",newPasswordIsValid:!1,newPasswordConfirm:"",newPasswordConfirmIsValid:!1}},methods:{sendNewPassword:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.invalidText=!1,e.invalidFromServer=!1,!e.newPasswordIsValid||!e.newPasswordConfirmIsValid){t.next=24;break}if(e.newPasswordIsValid!==e.newPasswordConfirmIsValid){t.next=23;break}return n={newPassword:e.newPassword,token:e.$route.params.token},i=null,a=null,console.log({requestNewPassword:n}),t.prev=8,t.next=11,fetch(e.$store.state.apiUrl.entryPoint+"/users/changePassword/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 11:return i=t.sent,t.next=14,i.json();case 14:a=t.sent,t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](8),console.log(t.t0);case 20:a?a.error?e.invalidFromServer=!0:(console.log({responseLogged:a}),localStorage.setItem("token","Bearer "+a.token),console.log("login success"),e.confirmationPopInIsOpen=!0):e.invalidFromServer=!0,t.next=24;break;case 23:e.invalidText=!0;case 24:case"end":return t.stop()}}),t,null,[[8,17]])})))()},saveNewPassword:function(e){this.newPassword=e[0],this.newPasswordIsValid=e[1]},saveNewPasswordConfirm:function(e){this.newPasswordConfirm=e[0],this.newPasswordConfirmIsValid=e[1]}},created:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b["a"]();case 2:n=t.sent,n&&(e.$store.dispatch("fetchMyProfile"),e.alreadyConnected=!0,setTimeout((function(){e.$router.push({name:"home"})}),2e3));case 4:case"end":return t.stop()}}),t)})))()}},I=(n("6d08"),n("6b0d")),A=n.n(I);const x=A()(j,[["render",v],["__scopeId","data-v-4263d2de"]]);t["default"]=x},1118:function(e,t,n){"use strict";n("5a14")},"27f4":function(e,t,n){"use strict";n("693d")},3844:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABkCAMAAABKIhUhAAAAt1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8QiqlJAAAAPHRSTlMAkBA/wAv8A6DJ6CXheWA2B/Xsfx8O8dnUSC/dsKlCO8/GmeW4iXRl+WpLpIJcVxoU9721F4VwTyudUpN/swhLAAAFrklEQVRo3s2a6VbqMBCAU7AUyl4oS9mhbMJlh4ua93+ue1QykzSZCmrPud/PJnSa2TPK/iu25c2yuLasaW1Wer7a7HfJl8a5BlcphOfnFPsV7NfshBNkcusy+yFOf1Xl8XTW9R8I8C8Ffg9h+5sCUrUGv5fhX/Y4lSIhgBKSflTCc4c/Sm/7iIBdj5txW8PhsOWaFxvz+yW0XUJCwf5UYotYP57udNQzpxCeM+AE7uAuRzpwBe8FtQ2bsvAsFwnG5dcS6k0u05zbU9A1qmELAVm8vuy5jOWweK6ucu6lw07wthlDarDFZvWV6lmVWAlljyOL2rt14RAd+ac2fMq7ZoInWUY3TsZVljDKfyQRiMANk7mAl328cN6QZTi0HVzJbrXPfTOwayQBT1TRednuWdKXJEt7/ZsHQyKMZCGUfbhlnDeOnIl4kLy1JRL0KzzR6gioJn97Ms9w4I9RxFQyA5QzELuh91uQ2LC2VANT4kMJBxusA+6EFtTWPPCgPspo2nrmc/EMuFrDmNA5Yl4BGQsuGGv7e2gHH/XdESGy0yWgnV6kZ2iPNqkmtw7PQvimlbFqeagp3dF4R1WVXYB4ENXrFCop1sTYtNwjPLcIz4uidZoobYaxy+iL5TeG+FAv93XZ1g0wtXN7Euk9mr4pkjyxquS5hSnIpyBYhFGXA2BSQC8byiHPoPQ8Zg5w5xpd1kxt3x+xWFIM29G/a4Y1q/TJQRfRTetsoFlTHq+hHJwYpLpkQK20eWIUHPDkxOh/WmfPk+MFUk1ieA44d2J89G4uT5L1e9fBE2X0XnGh3KYkVjxCc5cykYfgjyyEIiVVpIycUroRSAJQi80swDtVLlLiyel9kp7Mq31GMCFaDjjenLEqUWvrspYCRpHDOqPSgP5ki72pio/FfFlhJF14UwTR5h4xbQ+ok5YZDZpyRS202AarikpZLNixIiyR6xmg1uoGW4pS4RA9yZ7FMgV9UOUKhE20LgkXaLCZe9LupCBCVKgOi1ASKT9eRBGjWCUtRIAuhyzCHBZiuVDbyl+LuPxQRCBEgLla3xQx+1pRNUrlJUI2ZW6yVYSv8L5p7ilcx1Qw4OBNPJok/hKyiSDuURrMoPvmCRGZ+JlPSN1YLIirK9HfY/La0QLSRy6YUvlxxGzo+qk0SCZyGxoLk6IKmB8LxB6Q/UwNJ4dcZkXUgiJeCl2qpszjrunkdb4vjQRqlEKa0KYYWRpbJv2uu5UyYmipTETsWUZcDpg2NqWw8jM8IdBEI54kJcj4ibFlSXecOXCdxJhBbUyKzOk2EU3Op7rRjMUbWZkDOPyTzsjwyWItp89OBnj7M3a1xZhm1jR0tODbDNtbFVMKeTKOdKPqbWzFKBZWSnJbZfxgMbNc+HRjgLyK/JgzTvueYKQQmOZgG6ozQDKQkIvmMWfZODb0FxHHoM3RHIBhM8Tw2PQXBKwle9CUsS7ujxtQyWmCyZ0ccNbU7pouS2fD7cfGk42Jtkd9n7+P8SlnAiGMz7o4YdFPvkLLoZngF9eY2XGIElbcGGI4NtRlvOoDRt0LYXdl9cVgPqhy4BJVRiOlhZ42z/ZDDhzA/pQ5+Pj2uzWZRLrRqXy9xYHOjrzxIKOtmqdc2+ix2Km2PQ54eUbxJqecEoQG6g7pqfm6YnGkWmY0L0qy30IW1o5RVoer6aY2zaBwxlzeu7YlxylG3AkjJt/jhATySoK4S7sNmjvJNwNBmp3eFlzCAy2RLNU64J0LmBH0eXIYZPfq3AotTdP3qFof6EedcJUwxe6hPqKaIucWpOpB1T8G3odTI95h/U0HQTDIERI6A3Y/Qe4bPdPUZo/gzN0HJTwF7FH8dZXzZP5LA9mtvXuHsSDgYSqlOy4f1WyZ/Yh8rcVjWBz/+Ozn1Oe9gtGFctazzX6NbXs2Dptu5lM1hVzPKpVtlghOKvXom/8BI0VQ0UHkQSMAAAAASUVORK5CYII="},"5a14":function(e,t,n){},"693d":function(e,t,n){},"6d08":function(e,t,n){"use strict";n("8c15")},"8c15":function(e,t,n){},b3c9:function(e,t,n){"use strict";var i=n("7a23"),a={class:"form-group my-2 inputBlock"},s={class:"inputBlockWrapper"},r=["type","placeholder"];function o(e,t,n,o,c,d){var u=Object(i["A"])("font-awesome-icon");return Object(i["t"])(),Object(i["f"])("div",a,[Object(i["g"])("label",{class:Object(i["p"])({"text-dark":!n.titleLight,"text-light":n.titleLight})},Object(i["C"])(n.inputName),3),Object(i["g"])("div",s,[Object(i["K"])(Object(i["g"])("input",{type:d.typeOfInput,class:Object(i["p"])(["form-control",{inputSuccess:"success"===c.isValidLive,inputInvalid:"invalid"===c.isValidLive,inputInvalidShaking:"invalid"===c.isValidAtChange}]),placeholder:n.inputPlaceHolder,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.inputValue=e}),onChange:t[1]||(t[1]=function(){return d.controlAndSendInput&&d.controlAndSendInput.apply(d,arguments)}),onKeyup:t[2]||(t[2]=Object(i["L"])((function(){return d.validateInputWithEnter&&d.validateInputWithEnter.apply(d,arguments)}),["enter"]))},null,42,r),[[i["E"],c.inputValue]]),Object(i["K"])(Object(i["j"])(u,{icon:"eye",class:"text-primary inputBlockWrapperEyeIcon",onClick:d.hideOrShowPassword},null,8,["onClick"]),[[i["H"],"password"===n.inputType&&"password"===c.passwordShowHide]]),Object(i["K"])(Object(i["j"])(u,{icon:"eye-slash",class:"text-primary inputBlockWrapperEyeIcon",onClick:d.hideOrShowPassword},null,8,["onClick"]),[[i["H"],"password"===n.inputType&&"text"===c.passwordShowHide]])]),Object(i["K"])(Object(i["g"])("p",{class:Object(i["p"])(["inputBlockInvalidText",{invalidText:!n.titleLight,invalidTextLight:n.titleLight}])},Object(i["C"])(n.textInvalid),3),[[i["H"],"invalid"===c.isValidAtChange]])])}n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("00b4");var c={name:"InputBlock",props:{inputName:{type:String,required:!0},inputPlaceHolder:{type:String,required:!0},inputType:{type:String,default:"text"},titleLight:{type:Boolean,default:!1},patternType:{type:String,default:""},textInvalid:{type:String}},data:function(){return{inputValue:"",isValidAtChange:"none",isValidLive:"none",passwordShowHide:"password"}},computed:{whichPattern:function(){return"alias"==this.patternType?this.$store.state.pattern.alias:"email"==this.patternType?this.$store.state.pattern.email:"password"==this.patternType?this.$store.state.pattern.password:""},typeOfInput:function(){return"password"===this.inputType?this.passwordShowHide:this.inputType}},watch:{inputValue:function(e){""!==this.whichPattern&&(this.testRegex(e)?this.isValidLive="success":this.isValidLive=""===e?"success":"invalid")}},methods:{hideOrShowPassword:function(){"password"===this.passwordShowHide?this.passwordShowHide="text":this.passwordShowHide="password"},testRegex:function(e){var t=this.whichPattern;if(""!==t){var n=new RegExp(t);return!!n.test(e)}return""},testIsValidValue:function(e){""===e||this.testRegex(e)?this.isValidAtChange="success":this.testRegex(e)||(this.isValidAtChange="invalid")},controlAndSendInput:function(){var e=[this.inputValue];""!==this.whichPattern?(this.testIsValidValue(this.inputValue),e.push(this.isValidAtChange)):""===this.whichPattern&&e.push("success"),this.$emit("input-value",e)},validateInputWithEnter:function(){this.$emit("validate-input-with-enter")}}},d=(n("1118"),n("6b0d")),u=n.n(d);const p=u()(c,[["render",o],["__scopeId","data-v-16bada75"]]);t["a"]=p},be02:function(e,t,n){"use strict";var i=n("7a23"),a=function(e){return Object(i["w"])("data-v-9740c9bc"),e=e(),Object(i["u"])(),e},s={class:"confirmationPopIn"},r=a((function(){return Object(i["g"])("div",{class:"confirmationPopInSideBar"},null,-1)})),o={class:"confirmationPopInWrapper"},c={class:"card container bg-light confirmationPopInWrapperCard"},d={class:"text-success confirmationPopInWrapperCardTitle"},u=a((function(){return Object(i["g"])("h6",{class:"text-primary confirmationPopInWrapperCardSubtitle"}," Veuillez accrocher votre ceinture et vous préparer à être redirigé ! ",-1)}));function p(e,t,n,a,p,l){var h=Object(i["A"])("Button"),f=Object(i["A"])("router-link");return Object(i["t"])(),Object(i["f"])("div",s,[r,Object(i["g"])("div",o,[Object(i["g"])("div",c,[Object(i["g"])("h3",d,Object(i["C"])(l.loopForType),1),u,"create"===n.confirmationType||"modifyPassword"===n.confirmationType?(Object(i["t"])(),Object(i["d"])(f,{key:0,to:n.redirectUrl,class:"confirmationPopInWrapperCardRedirect"},{default:Object(i["J"])((function(){return[Object(i["j"])(h,{text:"Redirection"})]})),_:1},8,["to"])):"modify"===n.confirmationType?(Object(i["t"])(),Object(i["f"])("div",{key:1,class:"confirmationPopInWrapperCardRedirect",onClick:t[0]||(t[0]=function(){return l.closeWindowAndReloadProfile&&l.closeWindowAndReloadProfile.apply(l,arguments)})},[Object(i["j"])(h,{text:"Fermer"})])):Object(i["e"])("",!0)])])])}var l=n("ad4f"),h={name:"ConfirmationPopIn",components:{Button:l["a"]},props:{confirmationType:{type:String,required:!0},redirectUrl:{type:String,required:!0}},data:function(){return{createProfile:"Bravo, votre compte a été créé avec succés !",modifyProfile:"Bravo, votre compte a été modifié avec succés !",modifyPassword:"Mot de passe modifié avec succés !",default:""}},computed:{loopForType:function(){return"create"===this.confirmationType?this.createProfile:"modify"===this.confirmationType?this.modifyProfile:"modifyPassword"===this.confirmationType?this.modifyPassword:this.default}},methods:{closeWindowAndReloadProfile:function(){this.$store.dispatch("fetchMyProfile"),this.$store.dispatch("changeProfileModifyOrShow")}},mounted:function(){var e=this;setTimeout((function(){e.$router.push({name:"home"})}),3e3)}},f=(n("27f4"),n("6b0d")),w=n.n(f);const m=w()(h,[["render",p],["__scopeId","data-v-9740c9bc"]]);t["a"]=m}}]);
//# sourceMappingURL=chunk-5985d6fe.8b2ffc4b.js.map